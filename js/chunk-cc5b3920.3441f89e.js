(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cc5b3920"],{"0471":function(t,a,n){"use strict";var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("div",{staticClass:"middle_list"},[n("div",{staticClass:"list_left"},[t._v(t._s(t.title))]),n("div",{staticClass:"list_right"},[n("span",{staticClass:"user"},[t._v(t._s(t.tip))]),n("span",{staticClass:"listr iconfont iconjiantou1"})])])])},s=[],i={props:["title","tip"]},o=i,c=(n("1ee9"),n("2877")),l=Object(c["a"])(o,e,s,!1,null,"a9cea082",null);a["a"]=l.exports},"070b":function(t,a,n){},1071:function(t,a,n){"use strict";n.r(a);var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("div",{staticClass:"w"},[n("div",{staticClass:"top"}),n("div",{staticClass:"middle"},[n("tab",{attrs:{title:"编辑资料",home:!1}}),n("div",{staticClass:"tou"},[n("img",{attrs:{src:"http://localhost:3000"+t.datas.head_img}}),n("van-uploader",{staticClass:"van",staticStyle:{opacity:"0"},attrs:{"after-read":t.afterRead}})],1),n("list",{attrs:{title:"昵称",tip:t.datas.nickname},nativeOn:{click:function(a){t.show=!0}}}),n("van-dialog",{attrs:{title:"昵称","show-cancel-button":""},on:{confirm:t.conf,cancel:function(a){t.dataname=t.datas.nickname}},model:{value:t.show,callback:function(a){t.show=a},expression:"show"}},[n("van-field",{attrs:{placeholder:"请输入昵称"},model:{value:t.dataname,callback:function(a){t.dataname=a},expression:"dataname"}})],1),n("list",{attrs:{title:"密码",tip:"******"},nativeOn:{click:function(a){t.shows=!0}}}),n("van-dialog",{attrs:{title:"密码","show-cancel-button":""},on:{confirm:t.pwd,cancel:function(a){t.password=""}},model:{value:t.shows,callback:function(a){t.shows=a},expression:"shows"}},[n("van-field",{attrs:{placeholder:"请输入密码",type:"password"},model:{value:t.password,callback:function(a){t.password=a},expression:"password"}})],1),n("list",{attrs:{title:"性别",tip:["女","男"][t.datas.gender]},nativeOn:{click:function(a){t.showgender=!0}}}),n("van-action-sheet",{attrs:{actions:t.actions,"close-on-click-action":""},on:{select:t.onSelect},model:{value:t.showgender,callback:function(a){t.showgender=a},expression:"showgender"}})],1),n("div",{staticClass:"foot"})])])},s=[],i=n("9fdc"),o=n("0471"),c={data:function(){return{datas:"",show:!1,shows:!1,showgender:!1,dataname:"",password:"",actions:[{name:"男",value:1},{name:"女",value:0}]}},components:{tab:i["a"],list:o["a"]},mounted:function(){var t=this,a=JSON.parse(localStorage.getItem("userInfo"));this.$axios({url:"/user/"+a.user.id,headers:{Authorization:a.token}}).then((function(a){var n=a.data.data;t.datas=n,t.dataname=n.nickname}))},methods:{afterRead:function(t){var a=this,n=new FormData;n.append("file",t.file);var e=JSON.parse(localStorage.getItem("userInfo"));this.$axios({url:"/upload",method:"post",data:n,headers:{Authorization:e.token}}).then((function(t){var n=t.data.data;a.datas.head_img=n.url,a.handler({head_img:a.datas.head_img})}))},handler:function(t){var a=this,n=JSON.parse(localStorage.getItem("userInfo"));return this.$axios({url:"/user_update/"+n.user.id,method:"post",headers:{Authorization:n.token},data:t}).then((function(t){a.$toast(t.data.message)}))},conf:function(){var t=this,a=this.handler({nickname:this.dataname});a.then((function(){t.datas.nickname=t.dataname}))},pwd:function(){this.handler({password:this.password})},onSelect:function(t){var a=this,n=this.handler({gender:t.value});n.then((function(){a.datas.gender=t.value}))}}},l=c,r=(n("6a3c"),n("2877")),d=Object(r["a"])(l,e,s,!1,null,"3092545a",null);a["default"]=d.exports},"1ee9":function(t,a,n){"use strict";var e=n("5d56"),s=n.n(e);s.a},4014:function(t,a,n){"use strict";var e=n("64c8"),s=n.n(e);s.a},"5d56":function(t,a,n){},"64c8":function(t,a,n){},"6a3c":function(t,a,n){"use strict";var e=n("070b"),s=n.n(e);s.a},"9fdc":function(t,a,n){"use strict";var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"middle_tap"},[n("span",{staticClass:"zuo iconfont iconjiantou",on:{click:function(a){return t.$router.back()}}}),n("h3",[t._v(t._s(t.title))]),t.home?n("span",{staticClass:"home iconfont iconshouye",on:{click:function(a){return t.$router.push("/")}}}):n("span",{staticClass:"home iconfont iconshouye",staticStyle:{opacity:"0"}})])},s=[],i={props:["title","home"]},o=i,c=(n("4014"),n("2877")),l=Object(c["a"])(o,e,s,!1,null,"2f41fafa",null);a["a"]=l.exports}}]);
//# sourceMappingURL=chunk-cc5b3920.3441f89e.js.map